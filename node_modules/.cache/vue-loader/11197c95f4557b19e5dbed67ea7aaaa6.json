{"remainingRequest":"/home/rinc/vue_test/nightcall_game/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rinc/vue_test/nightcall_game/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rinc/vue_test/nightcall_game/src/App.vue","mtime":1563777550523},{"path":"/home/rinc/vue_test/nightcall_game/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rinc/vue_test/nightcall_game/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rinc/vue_test/nightcall_game/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rinc/vue_test/nightcall_game/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rinc/vue_test/nightcall_game/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport CharacterCreation from './CharacterCreation.vue'\nimport Chapter1 from './Chapter1.vue'\nimport Chapter2 from './Chapter2.vue'\nimport Chapter3 from './Chapter3.vue'\nimport Chapter4 from './Chapter4.vue'\nimport Chapter5 from './Chapter5.vue'\nimport Finale from './Finale.vue'\n\nexport default {\n    name: 'app',\n    components: {\n        'character-creation': CharacterCreation,\n        'chapter1': Chapter1,\n        'chapter2': Chapter2,\n        'chapter3': Chapter3,\n        'chapter4': Chapter4,\n        'chapter5': Chapter5,\n        'finale': Finale\n    },\n    data() {\n        return {\n            page_ready: false,\n            player: {\n                name: null,\n                family_status: null,\n                family_status_m: null,\n                family_status_o: null,\n                song: null,\n                inventory: [],\n                finished_chapters: [],\n                states: [],\n                cheats_enabled: false\n            },\n            chapter: 0,\n            step: 0,\n            note: null,\n            audio_player: null,\n            audio_player_paused: true,\n            disabled: {\n                save: false,\n                load: false,\n                new: false\n            }\n        }\n    },\n    mounted() {\n        var self = this\n        this.audio_player = document.getElementById('audio_player')\n        this.audio_player.oncanplaythrough = function () {\n            self.page_ready = true\n            document.querySelector('#app').style.display = 'block'\n        }\n    },\n    methods: {\n        pickupItem(data) {\n            if (data.item) this.player.inventory.push(data.item)\n            else if (data.items) {\n                data.items.forEach(item => {\n                    this.player.inventory.push(item)\n                })\n            }\n            if (data.note != null) this.note = data.note\n        },\n        removeItem(item) {\n            var index = this.player.inventory.indexOf(item)\n            if (index != -1) this.player.inventory.splice(index, 1)\n        },\n        togglePlayer() {\n            if (this.audio_player.paused) this.audio_player.play()\n            else this.audio_player.pause()\n            this.audio_player_paused = this.audio_player.paused\n        },\n        saveProgress() {\n            if (this.disabled.save == true) return\n            localStorage.setItem('player', JSON.stringify(this.player))\n            localStorage.setItem('chapter', this.chapter)\n            localStorage.setItem('step', this.step)\n            localStorage.setItem('finished_chapters', this.finished_chapters)\n            localStorage.setItem('states', this.states)\n            this.note = 'Hra ulozena'\n        },\n        loadProgress() {\n            if (this.disabled.load == true) return\n            if (localStorage.player && localStorage.step && localStorage.chapter) {\n                this.player = JSON.parse(localStorage.player)\n                this.step = parseFloat(localStorage.step)\n                this.chapter = localStorage.chapter\n                this.finished_chapters = localStorage.finished_chapters\n                this.states = localStorage.states\n                this.note = 'Hra nacitana'\n                this.setDisabled({\n                    new: false,\n                    load: false,\n                    save: false\n                })\n            } else {\n                this.note = 'Nie je ulozena ziadna pozicia'\n            }\n        },\n        newGame() {\n            if (this.disabled.new == true) return\n            this.player = {\n                name: null,\n                family_status: null,\n                family_status_m: null,\n                family_status_o: null,\n                song: null,\n                inventory: [],\n                finished_chapters: [],\n                states: [],\n            },\n            this.chapter = 0\n            this.step = 0\n            this.setDisabled({\n                new: false,\n                load: false,\n                save: false\n            })\n            setTimeout(() => {\n                document.querySelector('input').focus()\n            }, 100)\n        },\n        setDisabled(items) {\n            this.disabled = items\n        }\n    }\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div id=\"app\">\n        <div>\n            <audio id=\"audio_player\" controls loop style=\"display: none;\">\n                <source src=\"./assets/untitled.mp3\" type=\"audio/mpeg\">\n            </audio>\n\n            <div class=\"settings\">\n                <b>Moznosti</b><br><br>\n                <div @click=\"togglePlayer\" class=\"setting\">\n                    <span v-if=\"audio_player_paused == true\">Zapnut hudbu</span>\n                    <span v-else>Vypnut hudbu</span>\n                </div>\n                <div :class=\"{ 'disabled': disabled.save }\" @click=\"saveProgress()\" class=\"setting\">\n                    Ulozit hru\n                </div>\n                <div :class=\"{ 'disabled': disabled.load }\" @click=\"loadProgress()\" class=\"setting\">\n                    Nacitat hru\n                </div>\n                <div :class=\"{ 'disabled': disabled.new }\" @click=\"newGame()\" class=\"setting\">\n                    Nova hra\n                </div>\n            </div>\n\n            <div v-if=\"player.inventory.length > 0\" class=\"inventory\">\n                <b>Tvoj inventar</b><br><br>\n                <div v-for=\"item in player.inventory\" :key=\"item\">\n                    {{ item }}\n                </div>\n            </div>\n\n            <div class=\"note\" v-if=\"note != null\">\n                <div class=\"note_content\">\n                    <div style=\"margin-bottom: 50px;\">\n                        {{ note }}\n                    </div>\n                    <div @click=\"note = null\" class=\"choice\" style=\"text-align: center;\">\n                        {{ lang.continue }}\n                    </div>\n                </div>\n            </div>\n\n            <character-creation\n                v-if=\"chapter == 0\"\n                :player=\"player\"\n                :step=\"step\"\n                @setStep=\"step = $event\"\n                @setChapter=\"chapter = $event\">\n            </character-creation>\n\n            <chapter1\n                v-if=\"chapter == 1\"\n                :player=\"player\"\n                :step=\"step\"\n                @setDisabled=\"setDisabled($event)\"\n                @note=\"note = $event\"\n                @pickupItem=\"pickupItem($event)\"\n                @removeItem=\"removeItem($event)\"\n                @setStep=\"step = $event\"\n                @setChapter=\"chapter = $event\">\n            </chapter1>\n\n            <chapter2\n                v-if=\"chapter == 2\"\n                :player=\"player\"\n                :step=\"step\"\n                @setDisabled=\"setDisabled($event)\"\n                @note=\"note = $event\"\n                @pickupItem=\"pickupItem($event)\"\n                @removeItem=\"removeItem($event)\"\n                @setStep=\"step = $event\"\n                @setChapter=\"chapter = $event\">\n            </chapter2>\n\n            <chapter3\n                v-if=\"chapter == 3\"\n                :player=\"player\"\n                :step=\"step\"\n                @setDisabled=\"setDisabled($event)\"\n                @note=\"note = $event\"\n                @pickupItem=\"pickupItem($event)\"\n                @removeItem=\"removeItem($event)\"\n                @setStep=\"step = $event\"\n                @setChapter=\"chapter = $event\">\n            </chapter3>\n\n            <chapter4\n                v-if=\"chapter == 4\"\n                :player=\"player\"\n                :step=\"step\"\n                @setDisabled=\"setDisabled($event)\"\n                @note=\"note = $event\"\n                @pickupItem=\"pickupItem($event)\"\n                @removeItem=\"removeItem($event)\"\n                @setStep=\"step = $event\"\n                @setChapter=\"chapter = $event\">\n            </chapter4>\n\n            <chapter5\n                v-if=\"chapter == 5\"\n                :player=\"player\"\n                :step=\"step\"\n                @setDisabled=\"setDisabled($event)\"\n                @note=\"note = $event\"\n                @pickupItem=\"pickupItem($event)\"\n                @removeItem=\"removeItem($event)\"\n                @setStep=\"step = $event\"\n                @setChapter=\"chapter = $event\">\n            </chapter5>\n\n            <finale\n                v-if=\"chapter == 6\"\n                :player=\"player\"\n                :step=\"step\"\n                @setDisabled=\"setDisabled($event)\"\n                @note=\"note = $event\"\n                @pickupItem=\"pickupItem($event)\"\n                @removeItem=\"removeItem($event)\"\n                @setStep=\"step = $event\"\n                @setChapter=\"chapter = $event\">\n            </finale>\n        </div>\n        <!-- <div v-if=\"page_ready == false\" class=\"loading\">\n                NACITAVAM\n            </div> -->\n    </div>\n</template>\n\n<script>\n\n    import CharacterCreation from './CharacterCreation.vue'\n    import Chapter1 from './Chapter1.vue'\n    import Chapter2 from './Chapter2.vue'\n    import Chapter3 from './Chapter3.vue'\n    import Chapter4 from './Chapter4.vue'\n    import Chapter5 from './Chapter5.vue'\n    import Finale from './Finale.vue'\n\n    export default {\n        name: 'app',\n        components: {\n            'character-creation': CharacterCreation,\n            'chapter1': Chapter1,\n            'chapter2': Chapter2,\n            'chapter3': Chapter3,\n            'chapter4': Chapter4,\n            'chapter5': Chapter5,\n            'finale': Finale\n        },\n        data() {\n            return {\n                page_ready: false,\n                player: {\n                    name: null,\n                    family_status: null,\n                    family_status_m: null,\n                    family_status_o: null,\n                    song: null,\n                    inventory: [],\n                    finished_chapters: [],\n                    states: [],\n                    cheats_enabled: false\n                },\n                chapter: 0,\n                step: 0,\n                note: null,\n                audio_player: null,\n                audio_player_paused: true,\n                disabled: {\n                    save: false,\n                    load: false,\n                    new: false\n                }\n            }\n        },\n        mounted() {\n            var self = this\n            this.audio_player = document.getElementById('audio_player')\n            this.audio_player.oncanplaythrough = function () {\n                self.page_ready = true\n                document.querySelector('#app').style.display = 'block'\n            }\n        },\n        methods: {\n            pickupItem(data) {\n                if (data.item) this.player.inventory.push(data.item)\n                else if (data.items) {\n                    data.items.forEach(item => {\n                        this.player.inventory.push(item)\n                    })\n                }\n                if (data.note != null) this.note = data.note\n            },\n            removeItem(item) {\n                var index = this.player.inventory.indexOf(item)\n                if (index != -1) this.player.inventory.splice(index, 1)\n            },\n            togglePlayer() {\n                if (this.audio_player.paused) this.audio_player.play()\n                else this.audio_player.pause()\n                this.audio_player_paused = this.audio_player.paused\n            },\n            saveProgress() {\n                if (this.disabled.save == true) return\n                localStorage.setItem('player', JSON.stringify(this.player))\n                localStorage.setItem('chapter', this.chapter)\n                localStorage.setItem('step', this.step)\n                localStorage.setItem('finished_chapters', this.finished_chapters)\n                localStorage.setItem('states', this.states)\n                this.note = 'Hra ulozena'\n            },\n            loadProgress() {\n                if (this.disabled.load == true) return\n                if (localStorage.player && localStorage.step && localStorage.chapter) {\n                    this.player = JSON.parse(localStorage.player)\n                    this.step = parseFloat(localStorage.step)\n                    this.chapter = localStorage.chapter\n                    this.finished_chapters = localStorage.finished_chapters\n                    this.states = localStorage.states\n                    this.note = 'Hra nacitana'\n                    this.setDisabled({\n                        new: false,\n                        load: false,\n                        save: false\n                    })\n                } else {\n                    this.note = 'Nie je ulozena ziadna pozicia'\n                }\n            },\n            newGame() {\n                if (this.disabled.new == true) return\n                this.player = {\n                    name: null,\n                    family_status: null,\n                    family_status_m: null,\n                    family_status_o: null,\n                    song: null,\n                    inventory: [],\n                    finished_chapters: [],\n                    states: [],\n                },\n                this.chapter = 0\n                this.step = 0\n                this.setDisabled({\n                    new: false,\n                    load: false,\n                    save: false\n                })\n                setTimeout(() => {\n                    document.querySelector('input').focus()\n                }, 100)\n            },\n            setDisabled(items) {\n                this.disabled = items\n            }\n        }\n    }\n</script>\n\n<style>\n    @font-face {\n        font-family: pixel_font;\n        src: url(assets/pixel.ttf);\n    }\n\n    body {\n        background: black;\n    }\n\n    #app {\n        width: 660px;\n        margin-left: auto;\n        margin-right: auto;\n        margin-top: 60px;\n        text-align: justify;\n        font-family: pixel_font;\n        font-size: 18px;\n        color: greenyellow;\n        overflow-wrap: break-word;\n    }\n\n    input {\n        width: 100%;\n        background: black;\n        color: greenyellow;\n        font-family: pixel_font;\n        font-size: 18px;\n    }\n\n    .choice {\n        font-weight: bold;\n        cursor: pointer;\n        color: white;\n        padding: 5px;\n    }\n    .choice:hover {\n        background-color: white;\n        color: black;\n    }\n\n    .inventory {\n        position: absolute;\n        left: 10px;\n    }\n\n    .settings {\n        position: absolute;\n        right: 10px;\n    }\n\n    .note {\n        position: fixed;\n        z-index: 1;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n    }\n\n    .note_content {\n        margin: 15% auto;\n        padding: 20px;\n        border: 1px solid greenyellow;\n        width: 30%;\n        background-color: rgba(0, 0, 0, 0.8);\n\n    }\n\n    .loading {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-family: pixel_font;\n        font-size: 18px;\n        color: greenyellow;\n        margin-top: 20%;\n    }\n\n    .setting {\n        cursor: pointer;\n    }\n\n    .setting:hover {\n        color: white;\n    }\n    .disabled {\n        color: grey;\n        cursor: not-allowed;\n    }\n</style>"]}]}